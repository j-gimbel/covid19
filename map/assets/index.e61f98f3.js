import{s as e,a as o,b as n,r as t,w as s,o as l,c as a,d as r,e as i,f as c,g as d,t as p,h as u,v as h,i as m,j as g,k as v}from"./vendor.9df7a88b.js";!function(e=".",o="__import__"){try{self[o]=new Function("u","return import(u)")}catch(n){const t=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[o]=e=>new Promise(((n,l)=>{const a=new URL(e,t);if(self[o].moduleMap[a])return n(self[o].moduleMap[a]);const r=new Blob([`import * as m from '${a}';`,`${o}.moduleMap['${a}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){l(new Error(`Failed to import: ${e}`)),s(i)},onload(){n(self[o].moduleMap[a]),s(i)}});document.head.appendChild(i)})),self[o].moduleMap={}}}("/map/assets/");const A={components:{LMap:e,LTileLayer:o,LGeoJson:n,Plotly:Plotly},mounted(){console.log("mounted")},setup(e){const o={weight:1,color:"#808080"},n={color:"#333",weight:2},a={color:"#cc0000",weight:2};var r=null,i=null;const c=t(null),d=t(null),p=t({}),u=t(!1),h=t({});s(c,(async()=>{console.log("getLandKreisData",c.value),fetch("http://j-gimbel.ddns.net:8000/api/landkreis/"+c.value,{mode:"cors"}).then((e=>e.json())).then((e=>{console.log(e),p.value=e}))}));s(p,(()=>{var e=p.value;console.log("updateChart1",p.value.Einwohner_AG_A00_A04,e.Einwohner_AG_A00_A04),window.Plotly.react(document.getElementById("chart1"),[{x:["AG 0-4","AG 5-14","AG 15-34","AG 35-59","AG 60-79","AG 80+"],y:[e.Einwohner_AG_A00_A04,e.Einwohner_AG_A05_A14,e.Einwohner_AG_A15_A34,e.Einwohner_AG_A35_A59,e.Einwohner_AG_A60_A79,e.Einwohner_AG_A80Plus],type:"bar"}],{title:"Age groups distribution"},{responsive:!0})}));const m=e=>{console.log("whenClicked",e);var n=e.target;if(null!=r&&(r.setStyle(o),r.feature.properties.id==n.feature.properties.id))return r=null,void(c.value=null);r=n,c.value=n.feature.properties.id,console.log(r),n.setStyle(a)},g=e=>{console.log("whenMouseover",e);var o=e.target;i=o,null!=r&&r.feature.properties.id==o.feature.properties.id||(d.value=i.feature.properties.name,o.setStyle(n))},v=e=>{var n=e.target;null!=r&&r.feature.properties.id==n.feature.properties.id||n.setStyle(o)};return l((async()=>{var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache"),e.append("Content-Type","application/json"),e.append("Accept","application/json");var o={method:"GET",headers:e},n=new Request("landkreise_rki.geojson");fetch(n,o).then((e=>e.json())).then((function(e){console.log(e),h.value=e,u.value=!0,window.Plotly.newPlot(document.getElementById("chart1"),[{x:["AG 0-4","AG 5-14","AG 15-34","AG 35-59","AG 60-79","AG 80+"],y:[0,0,0,0,0,0],type:"bar"}],{title:"Age groups distribution"},{responsive:!0})}))})),{geojson:h,geoJsonloaded:u,landkreisName:d,landkreisId:c,geojsonOptions:{onEachFeature:(e,o)=>{o.on({click:m,mouseover:g,mouseout:v})},style:e=>({color:"#808080",weight:1})}}}},f={class:"container-fluid vh-100"},w={class:"row vh-100"},_={class:"col-7"},y={class:"col-5"},G=c("h3",null,"Info",-1),j=m(" Landkreis: "),b={id:"chart1"};A.render=function(e,o,n,t,s,l){const m=a("l-geo-json"),v=a("l-tile-layer"),A=a("l-map");return r(),i("div",f,[c("div",w,[c("div",_,[c(A,{zoom:7,center:[51.4,10.4]},{default:d((()=>[t.geoJsonloaded?(r(),i(m,{key:0,geojson:t.geojson,options:t.geojsonOptions},null,8,["geojson","options"])):g("",!0),c(v,{url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"})])),_:1},8,["center"])]),c("div",y,[G,c("div",null,[j,c("span",null,p(t.landkreisName),1),u(c("div",b,null,512),[[h,t.landkreisId]])])])])])};const E={class:"container-fluid vh-100 p-0"},k={class:"row vh-100 g-0"};v({expose:[],setup:e=>(e,o)=>(r(),i("div",E,[c("div",k,[c(A)])]))}).mount("#app");
